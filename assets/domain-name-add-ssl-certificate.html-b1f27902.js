import{_ as l,X as c,Y as p,Z as r,a0 as n,a1 as s,$ as i,a2 as d,a3 as a,G as e}from"./framework-458c221e.js";const u="/assets/1650895183446-d92050cd.png",m="/assets/1650895317777-9ca5891b.png",g="/assets/1650895434040-5a07909c.png",v="/assets/1650895584686-639dd17e.png",_="/assets/1650895811146-5457b176.png",b="/assets/1650896190657-056dfa69.png",h="/assets/1650896342040-34b9a18b.png",k="/assets/1650896429306-6d711645.png",x={},f=n("div",{class:"hint-container tip"},[n("p",{class:"hint-container-title"},"✨✨✨✨✨"),n("p",null,"如何为域名添加免费的SSL证书")],-1),S=n("h2",{id:"申请ssl证书",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#申请ssl证书","aria-hidden":"true"},"#"),s(" 申请SSL证书")],-1),N={href:"https://seo.chinaz.com/",title:"站长之家",target:"_blank",rel:"noopener noreferrer"},L=n("figure",null,[n("img",{src:u,alt:"img",tabindex:"0",loading:"lazy"}),n("figcaption",null,"站长之家")],-1),y=a('<li><p>选择品牌及证书型号，填写信息并提交</p><figure><img src="'+m+'" alt="选择证书" tabindex="0" loading="lazy"><figcaption>选择证书</figcaption></figure></li><li><p>填写完信息后，点击<strong>下一步</strong></p><figure><img src="'+g+'" alt="站长之家" tabindex="0" loading="lazy"><figcaption>站长之家</figcaption></figure></li><li><p>选择手动DNS验证，点击<strong>确认申请</strong></p><figure><img src="'+v+'" alt="站长之家" tabindex="0" loading="lazy"><figcaption>站长之家</figcaption></figure></li><li><p>按照操作指引，在自己的服务器控制台添加一条DNS解析记录，记录类型为<strong>TXT</strong>，记录值为如图所示的一串代码</p><figure><img src="'+_+'" alt="站长之家" tabindex="0" loading="lazy"><figcaption>站长之家</figcaption></figure></li><li><p>DNS解析配置完成后店家<strong>提交验证</strong>，此步骤比较慢，可以耐心等待或者多尝试几次。 验证成功后即可在左侧&#39;SSL证书管理&#39;中查看证书信息。</p><figure><img src="'+b+'" alt="站长之家" tabindex="0" loading="lazy"><figcaption>站长之家</figcaption></figure></li>',5),z=a('<h2 id="下载证书" tabindex="-1"><a class="header-anchor" href="#下载证书" aria-hidden="true">#</a> 下载证书</h2><ol><li><p>点击证书列表右侧的<strong>下载</strong>，将弹出如下窗口，下载类型选择<strong>PEM_Nginx</strong></p><figure><img src="'+h+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure></li><li><p>证书下载解压后，将得到两个文件名以自己域名开头的两个证书文件</p><figure><img src="'+k+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure></li></ol><h2 id="利用nginx安装ssl证书" tabindex="-1"><a class="header-anchor" href="#利用nginx安装ssl证书" aria-hidden="true">#</a> 利用Nginx安装SSL证书</h2>',3),E=a(`<li><p>将上一步下载的两个证书文件上传至Nginx的配置文件<strong>nginx.conft同级</strong>的根目录下</p></li><li><p>修改Nginx配置文件，并在<strong>http节点</strong>中添加如下代码</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 编辑Nginx配置文件</span>
<span class="token function">vi</span> /etc/nginx/nginx.conft
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 此处为正常部署网站的代理配置</span>
server<span class="token punctuation">{</span>
  listen <span class="token number">80</span><span class="token punctuation">;</span>
  listen <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80<span class="token punctuation">;</span>
  server_name localhost<span class="token punctuation">;</span>
  rewrite ^<span class="token punctuation">(</span>.*<span class="token punctuation">)</span> https://<span class="token variable">$host</span><span class="token variable">$1</span> permanent<span class="token punctuation">;</span> <span class="token comment"># 需增加这一句，将80端口的所有请求都转为https</span>

  location / <span class="token punctuation">{</span>
     root html<span class="token punctuation">;</span>
     index index.html index.htm<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># 此处为ssl证书配置</span>
server<span class="token punctuation">{</span>
   server_name goodsxx.cn<span class="token punctuation">;</span><span class="token comment"># 填写绑定证书的域名</span>
   listen <span class="token number">443</span> ssl<span class="token punctuation">;</span>
   ssl_certificate goodsxx.cn.crt<span class="token punctuation">;</span><span class="token comment"># 后缀为.crt的证书文件名</span>
   ssl_certificate_key goodsxx.cn.key<span class="token punctuation">;</span><span class="token comment"># 后缀为.key的证书文件名</span>
   ssl_session_timeout 5m<span class="token punctuation">;</span>
   ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span> <span class="token comment"># 按照这个协议配置</span>
   ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>RC4:<span class="token operator">!</span>DHE<span class="token punctuation">;</span> <span class="token comment"># 按照这个套件配置</span>
   ssl_prefer_server_ciphers  on<span class="token punctuation">;</span>

   location / <span class="token punctuation">{</span>
     root html<span class="token punctuation">;</span><span class="token comment"># 站点目录</span>
     index index.html index.htm<span class="token punctuation">;</span>
     proxy_pass  http://goodsxx.cn:8000<span class="token punctuation">;</span> <span class="token comment"># 此代理表示 访问https://goodsxx.cn将会指向http://goodsxx.cn:8000</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>保存退出，重启Nginx即可使用https访问自己的域名</p></li>`,3);function C(D,T){const t=e("ExternalLinkIcon"),o=e("RouterLink");return c(),p("div",null,[f,r(" more "),S,n("ol",null,[n("li",null,[n("p",null,[s("登录"),n("a",N,[s("站长之家"),i(t)]),s("，在首页用SEO综合查询搜索自己的域名，点击下方的'免费申请'")]),L]),y]),z,n("ol",null,[n("li",null,[n("p",null,[i(o,{to:"/docs/linux/installation-nginx.html"},{default:d(()=>[s("在Linux上安装Nginx并设置开机启动")]),_:1})])]),E])])}const V=l(x,[["render",C],["__file","domain-name-add-ssl-certificate.html.vue"]]);export{V as default};
