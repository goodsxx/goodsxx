import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as c,c as u,e as r,w as s,d as p,b as a,a as n}from"./app-CfsLqU1F.js";const d="/assets/1672730546319-DNflpMyP.png",k="/assets/1672730616080-CE1RuZNC.png",g="/assets/1672730644557-8kLGcYJa.png",v="/assets/1672730848331-CgpukTn_.png",m="/assets/1672730931571-tux4Ob94.png",b="/assets/1672730984533-bYgRHN0T.png",h="/assets/1672731414647-Dnv5l5MV.png",f="/assets/1672732110779-COcfjkfZ.png",w="/assets/1672732551982-C9enErUX.png",y="/assets/1672734158620-YRGXdb4q.png",x="/assets/1672990482091-BxR9eDL_.png",_="/assets/1672734092111-D03PiiYJ.png",z="/assets/1672734732907-DtMCUT62.png",M="/assets/1672735684032-Ci9PSeMY.png",q="/assets/1672735750862-Dr8Qc32h.png",A="/assets/1672735773465-DTMwOYjg.png",V={},W=p('<div class="hint-container tip"><p class="hint-container-title">✨✨✨✨✨</p><p>混合开发的概念是相对与原生开发来说的：App 不直接运行原生程序，而是在原生程序中运行一个 Web 程序，原生程序中包含 Web 运行时，用于承载 Web 页面。暂且将原生应用称之为 Web 容器，Web 容器应该能让 JavaScript 代码与原生平台的代码交互，互相调用，同时为上层提供交互逻辑，例如导航，事件，Cookie，刷新等内容。</p><p>本章我们将讲解如何利用 MAUI 中的 BlazorWebView 控件实现 MAUI + VUE 混合开发。</p></div><h2 id="创建项目" tabindex="-1"><a class="header-anchor" href="#创建项目"><span>创建项目</span></a></h2><h3 id="创建-net-maui-应用" tabindex="-1"><a class="header-anchor" href="#创建-net-maui-应用"><span>创建 .NET MAUI 应用</span></a></h3><figure><img src="'+d+'" alt="创建 .NET MAUI 应用" tabindex="0" loading="lazy"><figcaption>创建 .NET MAUI 应用</figcaption></figure><figure><img src="'+k+'" alt="为项目命名" tabindex="0" loading="lazy"><figcaption>为项目命名</figcaption></figure><figure><img src="'+g+'" alt="选择框架" tabindex="0" loading="lazy"><figcaption>选择框架</figcaption></figure><h3 id="修改项目文件" tabindex="-1"><a class="header-anchor" href="#修改项目文件"><span>修改项目文件</span></a></h3><p>右键项目-编辑项目文件</p><figure><img src="'+v+'" alt="编辑项目文件" tabindex="0" loading="lazy"><figcaption>编辑项目文件</figcaption></figure><p><strong>Microsoft.NET.Sdk</strong> 改为 <strong>Microsoft.NET.Sdk.Razor</strong></p><figure><img src="'+m+'" alt="Microsoft.NET.Sdk" tabindex="0" loading="lazy"><figcaption>Microsoft.NET.Sdk</figcaption></figure><figure><img src="'+b+'" alt="Microsoft.NET.Sdk.Razor" tabindex="0" loading="lazy"><figcaption>Microsoft.NET.Sdk.Razor</figcaption></figure><p>保存修改后会自动引入所需的包</p><figure><img src="'+h+'" alt="自动引入相关包" tabindex="0" loading="lazy"><figcaption>自动引入相关包</figcaption></figure><h2 id="项目改造" tabindex="-1"><a class="header-anchor" href="#项目改造"><span>项目改造</span></a></h2><h3 id="新建-wwwroot-文件夹" tabindex="-1"><a class="header-anchor" href="#新建-wwwroot-文件夹"><span>新建 wwwroot 文件夹</span></a></h3><p>这个文件夹将是混合开发 Web 部分的根目录，这个名称不能随便定义。</p><figure><img src="'+f+'" alt="创建 wwwroot 文件夹" tabindex="0" loading="lazy"><figcaption>创建 wwwroot 文件夹</figcaption></figure><h3 id="新建-imports-razor-文件" tabindex="-1"><a class="header-anchor" href="#新建-imports-razor-文件"><span>新建 _Imports.razor 文件</span></a></h3><p>创建 _Imports.razor 文件并引用相关命名空间</p><figure><img src="'+w+`" alt="创建 _Imports.razor 文件" tabindex="0" loading="lazy"><figcaption>创建 _Imports.razor 文件</figcaption></figure><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code>@<span class="token keyword">using</span> System<span class="token punctuation">.</span>Net<span class="token punctuation">.</span>Http
@<span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>Forms
@<span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>Routing
@<span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>Web
@<span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Components<span class="token punctuation">.</span>Web<span class="token punctuation">.</span>Virtualization
@<span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>JSInterop
@<span class="token keyword">using</span> MauiVueDemo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="新建-main-razor-文件" tabindex="-1"><a class="header-anchor" href="#新建-main-razor-文件"><span>新建 Main.razor 文件</span></a></h3><p>新建 Main.razor 文件并创建一个 Test 方法用于测试。</p><figure><img src="`+y+`" alt="创建 Main.razor 文件" tabindex="0" loading="lazy"><figcaption>创建 Main.razor 文件</figcaption></figure><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code>@inject IJSRuntime <span class="token return-type class-name">JSRuntime</span>

@code <span class="token punctuation">{</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">JSInvokable</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Task<span class="token punctuation">.</span><span class="token function">FromResult</span><span class="token punctuation">(</span><span class="token string">&quot;测试通过啦！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mauiprogram-修改" tabindex="-1"><a class="header-anchor" href="#mauiprogram-修改"><span>MauiProgram 修改</span></a></h3><p>添加 MauiBlazorWebView 服务及调试工具</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>Extensions<span class="token punctuation">.</span>Logging</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token namespace">MauiVueDemo</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MauiProgram</span>
<span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">MauiApp</span> <span class="token function">CreateMauiApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> MauiApp<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		builder
			<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">UseMauiApp</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>App<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">ConfigureFonts</span><span class="token punctuation">(</span>fonts <span class="token operator">=&gt;</span>
			<span class="token punctuation">{</span>
				fonts<span class="token punctuation">.</span><span class="token function">AddFont</span><span class="token punctuation">(</span><span class="token string">&quot;OpenSans-Regular.ttf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;OpenSansRegular&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				fonts<span class="token punctuation">.</span><span class="token function">AddFont</span><span class="token punctuation">(</span><span class="token string">&quot;OpenSans-Semibold.ttf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;OpenSansSemibold&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddMauiBlazorWebView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token preprocessor property">#<span class="token directive keyword">if</span> </span><span class="token return-type class-name">DEBUG</span>
		builder<span class="token punctuation">.</span>Logging<span class="token punctuation">.</span><span class="token function">AddDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddBlazorWebViewDeveloperTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token preprocessor property">#<span class="token directive keyword">endif</span></span>
        <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mainpage-修改" tabindex="-1"><a class="header-anchor" href="#mainpage-修改"><span>MainPage 修改</span></a></h3>`,30),C=n("p",null,'HostPage="wwwroot/index.html" 对应 wwwroot 文件夹下的 index.html 文件',-1),T=n("p",null,'ComponentType="{x:Type local:Main}" 对应 Main.razor 文件',-1),S=n("div",{class:"language-xml line-numbers-mode","data-ext":"xml","data-title":"xml"},[n("pre",{class:"language-xml"},[n("code",null,[n("span",{class:"token prolog"},'<?xml version="1.0" encoding="utf-8" ?>'),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("ContentPage")]),a(),n("span",{class:"token attr-name"},"xmlns"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("http://schemas.microsoft.com/dotnet/2021/maui"),n("span",{class:"token punctuation"},'"')]),a(`
             `),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"xmlns:"),a("x")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("http://schemas.microsoft.com/winfx/2009/xaml"),n("span",{class:"token punctuation"},'"')]),a(`
             `),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"xmlns:"),a("local")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("clr-namespace:MauiVueDemo"),n("span",{class:"token punctuation"},'"')]),a(`
             `),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"x:"),a("Class")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("MauiVueDemo.MainPage"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`

    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("BlazorWebView")]),a(),n("span",{class:"token attr-name"},"HostPage"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("wwwroot/index.html"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("BlazorWebView.RootComponents")]),n("span",{class:"token punctuation"},">")]),a(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("RootComponent")]),a(),n("span",{class:"token attr-name"},"Selector"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("#blazorApp"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"ComponentType"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("{x:Type local:Main}"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token punctuation"},"/>")]),a(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("BlazorWebView.RootComponents")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("BlazorWebView")]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("ContentPage")]),n("span",{class:"token punctuation"},">")]),a(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),N=n("div",{class:"language-csharp line-numbers-mode","data-ext":"cs","data-title":"cs"},[n("pre",{class:"language-csharp"},[n("code",null,[n("span",{class:"token keyword"},"namespace"),a(),n("span",{class:"token namespace"},"MauiVueDemo"),n("span",{class:"token punctuation"},";"),a(`

`),n("span",{class:"token keyword"},"public"),a(),n("span",{class:"token keyword"},"partial"),a(),n("span",{class:"token keyword"},"class"),a(),n("span",{class:"token class-name"},"MainPage"),a(),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token type-list"},[n("span",{class:"token class-name"},"ContentPage")]),a(`
`),n("span",{class:"token punctuation"},"{"),a(`
	`),n("span",{class:"token keyword"},"public"),a(),n("span",{class:"token function"},"MainPage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`
	`),n("span",{class:"token punctuation"},"{"),a(`
		`),n("span",{class:"token function"},"InitializeComponent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),a(`
	`),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),I=p('<h2 id="创建-vue-项目" tabindex="-1"><a class="header-anchor" href="#创建-vue-项目"><span>创建 Vue 项目</span></a></h2><p>使用 <code>vue init webpack maui-vue</code> 命令创建名为 maui-vue 的项目</p><figure><img src="'+x+`" alt="创建 Vue 项目" tabindex="0" loading="lazy"><figcaption>创建 Vue 项目</figcaption></figure><h2 id="vue-项目改造" tabindex="-1"><a class="header-anchor" href="#vue-项目改造"><span>Vue 项目改造</span></a></h2><h3 id="index-html-修改" tabindex="-1"><a class="header-anchor" href="#index-html-修改"><span>index.html 修改</span></a></h3><p>新增如下代码</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width,initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>maui-vue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blazorApp<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>初始化服务用的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_framework/blazor.webview.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autostart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>&lt;div id=&quot;blazorApp&quot; style=&quot;display: none;&quot;&gt;初始化服务用的&lt;/div&gt;</code> 对应 MAUI 项目中 MainPage.xaml 页面中的 BlazorWebView.RootComponent.Selector 属性</p><p><code>&lt;script src=&quot;_framework/blazor.webview.js&quot; autostart=&quot;false&quot;&gt;&lt;/script&gt;</code> 是BlazorWebView用来注册C#交互的，不可以缺少。</p><h3 id="helloworld-vue-修改" tabindex="-1"><a class="header-anchor" href="#helloworld-vue-修改"><span>HelloWorld.vue 修改</span></a></h3><p>本项目中 HelloWorld.vue 为 Vue 项目的默认页面，不同版本创建的 Vue 项目默认页面可能不同。</p><p><code>DotNet</code> 对象是 MAUI Blazor 中注入的交互操作对象，此处我们定义了一个Test方法调用C#中的方法并将返回值展示在页面中</p><figure><img src="`+_+`" alt="HelloWorld.vue 改造" tabindex="0" loading="lazy"><figcaption>HelloWorld.vue 改造</figcaption></figure><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>测试调用C#代码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;HelloWorld&#39;</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;Welcome to Your Vue.js App&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">await</span> DotNet<span class="token punctuation">.</span><span class="token function">invokeMethodAsync</span><span class="token punctuation">(</span><span class="token string">&quot;MauiVueDemo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Test&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> res
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">h1, h2</span> <span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">ul</span> <span class="token punctuation">{</span>
  <span class="token property">list-style-type</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">li</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">a</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #42b983<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="打包-vue-项目" tabindex="-1"><a class="header-anchor" href="#打包-vue-项目"><span>打包 Vue 项目</span></a></h2><p>通过 <code>yarn build</code> 命令打包项目</p><figure><img src="`+z+'" alt="打包项目" tabindex="0" loading="lazy"><figcaption>打包项目</figcaption></figure><h2 id="迁移-vue-项目打包文件" tabindex="-1"><a class="header-anchor" href="#迁移-vue-项目打包文件"><span>迁移 Vue 项目打包文件</span></a></h2><p>Vue 项目默认打包路径为 ./dist，拷贝 dist 文件夹下的所有文件至 MAUI 项目的 wwwroot 文件夹下。</p><figure><img src="'+M+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="启动-maui-项目" tabindex="-1"><a class="header-anchor" href="#启动-maui-项目"><span>启动 MAUI 项目</span></a></h2><figure><img src="'+q+'" alt="启动 MAUI 项目" tabindex="0" loading="lazy"><figcaption>启动 MAUI 项目</figcaption></figure><figure><img src="'+A+'" alt="点击 [测试调用C#代码] 按钮" tabindex="0" loading="lazy"><figcaption>点击 [测试调用C#代码] 按钮</figcaption></figure>',23);function B(P,U){const i=l("Tabs");return c(),u("div",null,[W,r(i,{id:"90",data:[{id:"MainPage.xaml"},{id:"MainPage.xaml.cs"}]},{title0:s(({value:t,isActive:e})=>[a("MainPage.xaml")]),title1:s(({value:t,isActive:e})=>[a("MainPage.xaml.cs")]),tab0:s(({value:t,isActive:e})=>[C,T,S]),tab1:s(({value:t,isActive:e})=>[N]),_:1},8,["data"]),I])}const R=o(V,[["render",B],["__file","maui-blazorwebview-hunhekaifa.html.vue"]]),H=JSON.parse('{"path":"/articles/maui/maui-blazorwebview-hunhekaifa.html","title":"基于BlazorWebView的混合开发","lang":"zh-CN","frontmatter":{"title":"基于BlazorWebView的混合开发","date":"2023-01-03T00:00:00.000Z","category":["MAUI"],"tag":["MAUI","Vue","Blazor"],"star":true,"timeline":true,"order":6,"description":"✨✨✨✨✨ 混合开发的概念是相对与原生开发来说的：App 不直接运行原生程序，而是在原生程序中运行一个 Web 程序，原生程序中包含 Web 运行时，用于承载 Web 页面。暂且将原生应用称之为 Web 容器，Web 容器应该能让 JavaScript 代码与原生平台的代码交互，互相调用，同时为上层提供交互逻辑，例如导航，事件，Cookie，刷新等内容...","head":[["meta",{"property":"og:url","content":"http://blog.goodsxx.cn/articles/maui/maui-blazorwebview-hunhekaifa.html"}],["meta",{"property":"og:site_name","content":"Growing Notes"}],["meta",{"property":"og:title","content":"基于BlazorWebView的混合开发"}],["meta",{"property":"og:description","content":"✨✨✨✨✨ 混合开发的概念是相对与原生开发来说的：App 不直接运行原生程序，而是在原生程序中运行一个 Web 程序，原生程序中包含 Web 运行时，用于承载 Web 页面。暂且将原生应用称之为 Web 容器，Web 容器应该能让 JavaScript 代码与原生平台的代码交互，互相调用，同时为上层提供交互逻辑，例如导航，事件，Cookie，刷新等内容..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-02-23T05:09:40.000Z"}],["meta",{"property":"article:author","content":"SongXinXin"}],["meta",{"property":"article:tag","content":"MAUI"}],["meta",{"property":"article:tag","content":"Vue"}],["meta",{"property":"article:tag","content":"Blazor"}],["meta",{"property":"article:published_time","content":"2023-01-03T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-02-23T05:09:40.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"基于BlazorWebView的混合开发\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-01-03T00:00:00.000Z\\",\\"dateModified\\":\\"2023-02-23T05:09:40.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"SongXinXin\\"}]}"]]},"headers":[{"level":2,"title":"创建项目","slug":"创建项目","link":"#创建项目","children":[{"level":3,"title":"创建 .NET MAUI 应用","slug":"创建-net-maui-应用","link":"#创建-net-maui-应用","children":[]},{"level":3,"title":"修改项目文件","slug":"修改项目文件","link":"#修改项目文件","children":[]}]},{"level":2,"title":"项目改造","slug":"项目改造","link":"#项目改造","children":[{"level":3,"title":"新建 wwwroot 文件夹","slug":"新建-wwwroot-文件夹","link":"#新建-wwwroot-文件夹","children":[]},{"level":3,"title":"新建 _Imports.razor 文件","slug":"新建-imports-razor-文件","link":"#新建-imports-razor-文件","children":[]},{"level":3,"title":"新建 Main.razor 文件","slug":"新建-main-razor-文件","link":"#新建-main-razor-文件","children":[]},{"level":3,"title":"MauiProgram 修改","slug":"mauiprogram-修改","link":"#mauiprogram-修改","children":[]},{"level":3,"title":"MainPage 修改","slug":"mainpage-修改","link":"#mainpage-修改","children":[]}]},{"level":2,"title":"创建 Vue 项目","slug":"创建-vue-项目","link":"#创建-vue-项目","children":[]},{"level":2,"title":"Vue 项目改造","slug":"vue-项目改造","link":"#vue-项目改造","children":[{"level":3,"title":"index.html 修改","slug":"index-html-修改","link":"#index-html-修改","children":[]},{"level":3,"title":"HelloWorld.vue 修改","slug":"helloworld-vue-修改","link":"#helloworld-vue-修改","children":[]}]},{"level":2,"title":"打包 Vue 项目","slug":"打包-vue-项目","link":"#打包-vue-项目","children":[]},{"level":2,"title":"迁移 Vue 项目打包文件","slug":"迁移-vue-项目打包文件","link":"#迁移-vue-项目打包文件","children":[]},{"level":2,"title":"启动 MAUI 项目","slug":"启动-maui-项目","link":"#启动-maui-项目","children":[]}],"git":{"createdTime":1672735997000,"updatedTime":1677128980000,"contributors":[{"name":"SongXinXin","email":"1368084801@qq.com","commits":1}]},"readingTime":{"minutes":3.19,"words":956},"filePathRelative":"articles/maui/maui-blazorwebview-hunhekaifa.md","localizedDate":"2023年1月3日","excerpt":"<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">✨✨✨✨✨</p>\\n<p>混合开发的概念是相对与原生开发来说的：App 不直接运行原生程序，而是在原生程序中运行一个 Web 程序，原生程序中包含 Web 运行时，用于承载 Web 页面。暂且将原生应用称之为 Web 容器，Web 容器应该能让 JavaScript 代码与原生平台的代码交互，互相调用，同时为上层提供交互逻辑，例如导航，事件，Cookie，刷新等内容。</p>\\n<p>本章我们将讲解如何利用 MAUI 中的 BlazorWebView 控件实现 MAUI + VUE 混合开发。</p>\\n</div>\\n","autoDesc":true}');export{R as comp,H as data};
